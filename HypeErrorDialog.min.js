/*
 Hype Error Dialog Extension v1.0.2
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
'use strict';!1==="HypeErrorDialog"in window&&(window.HypeErrorDialog=function(){function n(){return-1!=window.location.href.indexOf("127.0.0.1:")&&-1!=window.location.href.indexOf("/preview/")&&0<=navigator.platform.toUpperCase().indexOf("MAC")}function p(){return-1!=window.location.href.indexOf("/Hype/Scratch/HypeScratch.")}var h={};const r=n(),t=p();if(r&&!t){function f(b,l,e,m,c,g,d){var a=document.querySelector(".custom-error-dialog");a&&a.remove();a=document.createElement("div");a.className=
"error-overlay";document.body.appendChild(a);a=document.createElement("div");a.className="custom-error-dialog";a.innerHTML="<button class='close-btn' onclick='document.querySelector(`.custom-error-dialog`).remove(); document.querySelector(`.error-overlay`).remove();'>&times;</button><h2>JavaScript Error</h2><p><strong>Message:</strong> "+b+"</p>"+(g?"<p><strong>Hype Document:</strong> "+g+"</p>":"")+(d?"<p><strong>Hype Function:</strong> "+d+"</p>":"")+"<p><strong>Source:</strong></p><pre>"+(l||"N/A")+
"</pre>"+(e?"<p><strong>Line:</strong> "+e+"</p>":"")+(m?"<p><strong>Column:</strong> "+m+"</p>":"")+"<p><strong>Error Object:</strong></p><pre style='overflow-x: auto; white-space: pre;'>"+(c?c.stack:"N/A")+"</pre>";document.body.appendChild(a)}(function(){const b=document.createElement("style");b.textContent=".custom-error-dialog {position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);background: linear-gradient(45deg, #f0f0f0, #ffffff);border: 1px solid black;border-radius: 10px;padding: 20px;z-index: 10000;font-family: 'Arial', sans-serif;box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);max-width: 600px;text-align: left;overflow: hidden;}.custom-error-dialog h2 {margin: 0 0 10px 0;font-size: 18px;color: red;}.custom-error-dialog pre {background: #f9f9f9;padding: 10px;border-radius: 5px;overflow-x: auto;white-space: pre-wrap;max-height: 200px;}.custom-error-dialog .close-btn {position: absolute;top: 10px;right: 10px;background: none;border: none;font-size: 20px;cursor: pointer;color: #ff0000;}.error-overlay {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0, 0, 0, 0.2);z-index: 9999;}";
document.head.appendChild(b)})();const q=window.eval;window.eval=function(b){const l="error-"+Math.random().toString(36).substr(2,9);if(/\(function\(\)\{return function\(hypeDocument, element, event\) \{/.test(b))try{return q(b)}catch(e){const m=new Function("/*"+l+"*/");requestAnimationFrame(function(){a:{var c=window.HYPE.documents;for(var g in c){var d=c[g].functions();for(k in d)if(d.hasOwnProperty(k)){var a=d[k].toString();if(-1!==a.indexOf(l)){c={docName:g,functionName:k,functionString:a};break a}}}c=
null}d=c;g=c="";d&&(c=d.docName,g=d.functionName);d=e.message;var k=g;k=(a=b.match(/\(function\(\)\{return function\(hypeDocument, element, event\) \{([\s\S]*?)\}\}\)\(\);/))&&a[1]?k+" (hypeDocument, element, event) {\n"+a[1]+"\n}":b;f(d,k,"","",e,c,g)});return m}else try{return q(b)}catch(e){throw f(e.message,b,"","",e),e;}};window.onerror=function(b,l,e,m,c){f(b,l,e,m,c)}}return{version:"1.0.2",setDefault:function(f,q){"object"===typeof f?h=Object.assign(h,f):h[f]=q},getDefault:function(f){return f?
h[f]:h},isHypePreview:n,isHypeIDE:p,showErrorDialog}}(),window.onerror=function(n,p,h,r,t){!HypeErrorDialog.isHypeIDE()&&HypeErrorDialog.isHypePreview()&&setTimeout(function(){HypeErrorDialog.showErrorDialog(n,p,h,r,t)},1)});
